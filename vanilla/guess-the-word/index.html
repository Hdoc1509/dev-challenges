<!-- vim: set filetype=ejs :-->
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Guess The Word Game - DevChallenges</title>
  </head>
  <body>
    <main class="game-card">
      <header class="game-card__header">
        <img
          class="game-card__logo"
          src="/word-scramblle-logo.svg"
          alt="Word Scramblle logo"
        />
        <button
          id="menu-open"
          class="menu-trigger"
          aria-label="Open menu"
          data-menu="app-menu"
        >
          <%- include("icon/MenuDeep") %>
        </button>
      </header>
      <div class="word" id="word" aria-label="Scrambled word"></div>
      <section class="info">
        <section class="tries" data-active>
          <p class="tries__description">
            Tries (<span id="current-tries">0</span>/<span id="max-tries"
              >?</span
            >)<span aria-hidden="true">:</span>
          </p>
          <%- include("StepIndicator") %>
        </section>
        <section class="mistakes" data-active>
          <span>Mistakes:</span>
          <span id="mistaken-letters">-</span>
        </section>
        <section class="resets">
          <p class="resets__description">
            Resets (<span id="current-resets">0</span>/<span id="max-resets"
              >2</span
            >)<span aria-hidden="true">:</span>
          </p>
          <%- include("StepIndicator", { steps: 2 }) %>
        </section>
        <section id="timer" class="timer">
          <div class="timer__bar"></div>
        </section>
        <section class="definition">
          <button class="definition__open menu-trigger">
            Definition <%- include("icon/Book2") %>
          </button>
        </section>
        <section class="hints">
          <button class="menu-trigger">
            <span class="menu-trigger__label">Hints</span>
            <%- include("icon/ProgressHelp") %>
          </button>
          <section class="hints__content">
            <!-- prettier-ignore -->
            <% const hintsTabs = [
                 { name: "all", icon: "FilterOff", selected: true },
                 // { name: "all", icon: "SelectAll", selected: true },
                 { name: "correct", icon: "TextGrammar" },
               ] %>
            <header class="menu__header">
              <nav>
                <div id="hints-tab-nav" class="tab-nav" role="tablist">
                  <!-- prettier-ignore -->
                  <% for (const tab of hintsTabs) { %>
                  <%- include("tabs/TabNavItem", { ...tab, contentName: "hints" }) %>
                  <% } %>
                </div>
              </nav>
            </header>
            <section id="hints-tab-content" class="tab-content">
              <!-- prettier-ignore -->
              <% for (const tab of hintsTabs) { %>
              <%- include("tabs/TabContentItem", { ...tab, navName: "hints" }) %>
              <ul class="hints-list"></ul>
              <%- include("tabs/TabContentItem", { close: true }) %>
              <% } %>
            </section>
          </section>
        </section>
        <section class="difficulty-completed">
          <p data-primary>
            You have completed the
            <span class="difficulty-completed__name"></span>
            difficulty.
          </p>
          <p data-secondary>Select another difficulty to continue playing.</p>
          <button class="menu-trigger">
            Difficulties <%- include("icon/Versions") %>
          </button>
        </section>
      </section>
      <section id="typing" class="typing"></section>
      <section class="actions">
        <button id="random" class="actions__control">Random</button>
        <button id="reset" class="actions__control" disabled>Reset</button>
      </section>
    </main>
    <div id="alert" class="alert">
      <span class="alert__text"></span>
      <div class="alert__time-bar"></div>
    </div>
    <%- include("template/TypingLetter") %>
    <%- include("template/DefinitionItem") %>
    <%- include("template/Spinner") %>
    <%- include("template/DefinitionRetry") %>
    <%- include("template/DefinitionPage") %>
    <%- include("template/DefinitionPageEmpty") %>
    <dialog id="app-menu" class="menu">
      <!-- prettier-ignore -->
      <% const menuTabs = [
           { name: "definitions", icon: "Book2", selected: true },
           { name: "difficulty", icon: "Versions" },
           { name: "stats", icon: "ChartBar" },
         ] %>
      <header class="menu__header">
        <nav>
          <div id="menu-tab-nav" class="tab-nav" role="tablist">
            <!-- prettier-ignore -->
            <% for (const tab of menuTabs) { %>
            <%- include("tabs/TabNavItem", { ...tab, contentName: "menu" }) %>
            <% } %>
          </div>
        </nav>
        <button id="menu-close" class="menu-trigger" aria-label="Close menu">
          <%- include("icon/X") %>
        </button>
      </header>
      <section id="menu-tab-content" class="tab-content">
        <div
          id="definitions-menu-tab-content"
          class="tab-content__item"
          role="tabpanel"
          aria-labelledby="definitions-menu-tab"
          data-active
        >
          <%- include("menu/DefinitionsTabContent") %>
        </div>
        <div
          id="difficulty-menu-tab-content"
          class="tab-content__item"
          role="tabpanel"
          aria-labelledby="difficulty-menu-tab"
        >
          <%- include("menu/DifficultyTabContent") %>
        </div>
        <div
          id="stats-menu-tab-content"
          class="tab-content__item"
          role="tabpanel"
          aria-labelledby="stats-menu-tab"
        >
          <%- include("menu/StatsTabContent") %>
        </div>
      </section>
    </dialog>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
