---
to: ssr/<%= name %>/src/components/ThemeProvider.astro
---

<script is:inline>
  const theme = (() => {
    if (typeof localStorage !== "undefined" && localStorage.getItem("theme")) {
      return localStorage.getItem("theme");
    }

    return window.matchMedia("(prefers-color-scheme: dark)").matches
      ? "dark"
      : "light";
  })();

  document.documentElement.dataset.theme = theme;

  window.localStorage.setItem("theme", theme);
</script>
